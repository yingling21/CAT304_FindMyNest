import type { MixedOutput, Module, ReadOnlyGraph, SerializerOptions } from 'metro';
import type CountingSet from 'metro/src/lib/CountingSet';
export type VirtualJSOutput = {
    type: 'js/script/virtual';
    data: {
        code: string;
        lineCount: number;
        map: [];
    };
};
export type Bundle = {
    modules: Array<[id: number, code: string]>;
    post: string;
    pre: string;
};
export type SerializedBundle = {
    code: string;
    map: string;
};
export type MetroSerializerOutput = string | SerializedBundle | Promise<string | SerializedBundle>;
export type MetroSerializer = (entryPoint: string, premodules: ReadonlyArray<Module>, graph: ReadOnlyGraph, options: SerializerOptions) => MetroSerializerOutput;
/**
 * Returns minified Chunk ID code snippet.
 */
export declare function createDebugIdSnippet(debugId: string): string;
/**
 * Deterministically hashes a string and turns the hash into a uuid.
 *
 * https://github.com/getsentry/sentry-javascript-bundler-plugins/blob/58271f1af2ade6b3e64d393d70376ae53bc5bd2f/packages/bundler-plugin-core/src/utils.ts#L174
 */
export declare function stringToUUID(str: string): string;
/**
 * Looks for an injected `_posthogChunkIds[n] = "debugId"` pattern
 * in the bundle source and extracts the `debugId` value from it.
 *
 * Matches both string and numeric keys for `n`, e.g.:
 *   _posthogChunkIds["abc"] = "1234"
 *   _posthogChunkIds[42] = "1234"
 */
export declare function determineDebugIdFromBundleSource(code: string): string | undefined;
export declare const createSet: () => CountingSet<string>;
/**
 * Prepends the module after default required prelude modules.
 */
export declare function prependModule(modules: readonly Module<MixedOutput>[], module: Module<VirtualJSOutput>): Module<MixedOutput>[];
/**
 * Creates a virtual JS module with the given path and code.
 */
export declare function createVirtualJSModule(modulePath: string, moduleCode: string): Module<VirtualJSOutput> & {
    setSource: (code: string) => void;
};
/**
 * Tries to load Expo config using `@expo/config` package.
 */
export declare function getExpoConfig(projectRoot: string): Partial<{
    name: string;
    version: string;
}>;
