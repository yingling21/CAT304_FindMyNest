{"version":3,"names":["useChat","DefaultChatTransport","lastAssistantMessageIsCompleteWithToolCalls","fetch","expoFetch","useCallback","useMemo","z","BASE_URL","withBaseUrl","getPostHogClient","AGENT_URL","createRorkTool","tool","generateObject","params","capture","GENERATE_OBJECT_URL","URL","toString","result","method","body","JSON","stringify","messages","schema","toJSONSchema","data","json","parse","object","generateText","GENERATE_TEXT_URL","role","content","completion","useRorkAgent","options","addToolResult","rest","sendAutomaticallyWhen","transport","api","toolsEntries","Object","entries","tools","map","name","description","jsonSchema","zodSchema","fromEntries","onToolCall","toolCall","toolName","Error","dynamic","execute","input","toolCallId","output","m","parts","p","type","startsWith","toolPart","replace","undefined","filter","sendMessage","message","text"],"sourceRoot":"../../src","sources":["agent.ts"],"mappings":"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","ignoreList":[]}
